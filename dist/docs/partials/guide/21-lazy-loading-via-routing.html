<a href="https://github.com/laurelnaiad/angular-couch-potato/edit/master/docs/content/guide/21-lazy-loading-via-routing.ngdoc" class="improve-docs"><i class="icon-edit"> </i>Improve this doc</a><h1><code ng:non-bindable=""></code>
<div><span class="hint"></span>
</div>
</h1>
<div><div class="lazy-loading-via-routing-page"><h3 id="couch-potato-lazy-loading-via-routing">Couch Potato: Lazy Loading Via Routing</h3>
<p>Many applications will use Couch Potato exclusively within the context of their
routing configurations, whether they use ngRoute, ui-router, or some other router
(e.g. <a href="https://github.com/laurelnaiad/angular-detour/" target="_blank">angular-detour</a> or the inbuilt router in pre-2.0 versions of angular).</p>
<p>The reasoning is that you are trying to lazy-load and register components that
are used in the context of something must happen when the user visits a certain
route/state of the application.  This page describes such usage in general.  <em>See <a href="#/guide/45-adhoc-lazy-loading">Ad Hoc Lazy Loading</a>
for alternative usage.</em></p>
<h5 id="couch-potato-lazy-loading-via-routing_route/state-based-lazy-loading-in-general">Route/State-Based Lazy Loading In General</h5>
<p>When routes or states are <em>invoked</em>, an angular promise can resolved, and the $couchPotato <em>service</em> can invoke the <em>$couchPotatoProvider</em> to use RequireJS
to download and register dependencies in the context of the promise.</p>
<p>Since each component registers itself, <em>indirect</em> dependencies specified in AMD form are downloaded and registered along with the directly stated dependencies of the route.</p>
<p>Couch Potato does not care which dependencies are resolved when the
route is invoked.  It is an application&#39;s responsibility to specify directly or indirectly all requirements.</p>
<p>For example, if a route depends on a Couch Potato component named
&quot;base-state-components&quot;, and that component depends on another component named &quot;base-Services&quot;,
then all base services will be registered when the state &quot;base&quot;, which depends
on the component &quot;base-state-components&quot; is activated.</p>
<p>The documented configurations for Couch Potato are:</p>
<ul>
<li><a href="#/guide/31-use-ngrouter">Use with ngRouter/stock pre-2.0 router</a></li>
<li><a href="#/guide/33-use-ui-router">Use with angular-ui-router</a></li>
<li><a href="#/guide/35-use-detour">Use with angular-detour</a></li>
</ul>
</div></div>
